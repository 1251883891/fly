{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///engine-wrapper.umd.min.js","webpack:///webpack/bootstrap ecf937cafc7f37a9c33f?f128","webpack:///./src/utils.js?c651","webpack:///./src/engine-wrapper.js"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_typeof","Symbol","iterator","obj","constructor","type","ob","toString","slice","toLowerCase","isObject","real","isFormData","val","FormData","trim","str","replace","encode","encodeURIComponent","formatParams","data","arr","JSON","stringify","push","join","merge","b","key","undefined","_classCallCheck","instance","Constructor","TypeError","EngineWrapper","adapter","AjaxEngine","requestHeaders","readyState","timeout","responseURL","responseHeaders","_createClass","apply","splice","arguments","state","_call","method","url","util","indexOf","isBrowser","t","document","createElement","href","location","_changeReadyState","arg","_this","cookie","self","request","headers","_options","timer","setTimeout","response","clearTimeout","status","statusCode","statusText","responseText","msg","statusMessage","field","cookies","forEach","e","_response","console","error","getResponseHeader","requestAdapter","defineProperties","target","props","length","descriptor","writable","protoProps","staticProps","_","cb"],"mappings":"CAAA,SAAAA,EAAAC,GACA,mBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,QACA,sBAAAG,gBAAAC,IACAD,UAAAH,OACA,CACA,GAAAK,GAAAL,GACA,QAAAM,KAAAD,IAAA,gBAAAJ,iBAAAF,GAAAO,GAAAD,EAAAC,KAECC,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAT,OAGA,IAAAC,GAAAS,EAAAD,IACAJ,EAAAI,EACAE,GAAA,EACAX,WAUA,OANAO,GAAAE,GAAAG,KAAAX,EAAAD,QAAAC,IAAAD,QAAAQ,GAGAP,EAAAU,GAAA,EAGAV,EAAAD,QAvBA,GAAAU,KA+DA,OAnCAF,GAAAK,EAAAN,EAGAC,EAAAM,EAAAJ,EAGAF,EAAAH,EAAA,SAAAU,GAA2C,MAAAA,IAG3CP,EAAAQ,EAAA,SAAAhB,EAAAiB,EAAAC,GACAV,EAAAW,EAAAnB,EAAAiB,IACAG,OAAAC,eAAArB,EAAAiB,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAV,EAAAiB,EAAA,SAAAxB,GACA,GAAAiB,GAAAjB,KAAAyB,WACA,WAA2B,MAAAzB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAO,GAAAQ,EAAAE,EAAA,IAAAA,GACAA,GAIAV,EAAAW,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAlB,KAAAe,EAAAC,IAGtDpB,EAAAuB,EAAA,GAGAvB,IAAAwB,EAAA,KDgBM,SAAU/B,EAAQD,EAASQ,GAEjC,YEhFA,IAAAyB,GAAA,kBAAAC,SAAA,gBAAAA,QAAAC,SAAA,SAAAC,GAAoG,aAAAA,IAAqB,SAAAA,GAAmB,MAAAA,IAAA,kBAAAF,SAAAE,EAAAC,cAAAH,QAAAE,IAAAF,OAAAL,UAAA,eAAAO,GAE5InC,GAAAD,SACAsC,KAAA,SAAAC,GACA,MAAAnB,QAAAS,UAAAW,SAAA5B,KAAA2B,GAAAE,MAAA,MAAAC,eAEAC,SAAA,SAAAJ,EAAAK,GACA,MAAAA,GACA,WAAAtC,KAAAgC,KAAAC,GAEAA,GAAA,qBAAAA,EAAA,YAAAN,EAAAM,KAGAM,WAAA,SAAAC,GACA,yBAAAC,WAAAD,YAAAC,WAEAC,KAAA,SAAAC,GACA,MAAAA,GAAAC,QAAA,sBAEAC,OAAA,SAAAL,GACA,MAAAM,oBAAAN,GAAAI,QAAA,aAAAA,QAAA,aAAAA,QAAA,YAAAA,QAAA,aAAAA,QAAA,YAAAA,QAAA,aAAAA,QAAA,cAEAG,aAAA,SAAAC,GACA,GAAAC,KACA,QAAAtC,KAAAqC,GAAA,CACA,GAAAvC,GAAAuC,EAAArC,EACAX,MAAAqC,SAAA5B,KACAA,EAAAyC,KAAAC,UAAA1C,IAEAwC,EAAAG,KAAApD,KAAA6C,OAAAlC,GAAA,IAAAX,KAAA6C,OAAApC,IAEA,MAAAwC,GAAAI,KAAA,MAIAC,MAAA,SAAAxD,EAAAyD,GACA,OAAAC,KAAAD,OAEAE,KAAA3D,EAAA0D,GACA1D,EAAA0D,GAAAD,EAAAC,GACaxD,KAAAqC,SAAAkB,EAAAC,GAAA,IAAAxD,KAAAqC,SAAAvC,EAAA0D,GAAA,IACbxD,KAAAsD,MAAAxD,EAAA0D,GAAAD,EAAAC,GAGA,OAAA1D,MFwFO,CACA,CACA,CAED,SAAUH,EAAQD,EAASQ,GGnIjC,QAAAwD,GAAAC,EAAAC,GAAiD,KAAAD,YAAAC,IAA0C,SAAAC,WAAA,qCAS3F,QAAAC,GAAAC,GAgKA,MA/JA,YACA,QAAAC,KACAN,EAAA1D,KAAAgE,GAEAhE,KAAAiE,kBACAjE,KAAAkE,WAAA,EACAlE,KAAAmE,QAAA,EACAnE,KAAAoE,YAAA,GACApE,KAAAqE,mBAoJA,MAjJAC,GAAAN,IACAR,IAAA,QACA/C,MAAA,SAAAE,GACAX,KAAAW,IAAAX,KAAAW,GAAA4D,MAAAvE,QAAAwE,OAAAlE,KAAAmE,UAAA,OAGAjB,IAAA,oBACA/C,MAAA,SAAAiE,GACA1E,KAAAkE,WAAAQ,EACA1E,KAAA2E,MAAA,yBAGAnB,IAAA,OACA/C,MAAA,SAAAmE,EAAAC,GAEA,GADA7E,KAAA4E,SACAC,GAIA,GADAA,EAAAC,EAAApC,KAAAmC,GACA,IAAAA,EAAAE,QAAA,SAEAC,EAAA,CACA,GAAAC,GAAAC,SAAAC,cAAA,IACAF,GAAAG,KAAAP,EACAA,EAAAI,EAAAG,UARAP,GAAAQ,SAAAD,IAYApF,MAAAoE,YAAAS,EACA7E,KAAAsF,kBAAA,MAGA9B,IAAA,OACA/C,MAAA,SAAA8E,GACA,GAAAC,GAAAxF,IAGA,IADAuF,KAAA,KACAP,EAAA,CACA,GAAAS,GAAAP,SAAAO,MACAA,KACAzF,KAAAiE,eAAAwB,UAGA,GAAAC,GAAA1F,IACA,IAAA+D,EAAA,CACA,GAAA4B,IACAf,OAAAc,EAAAd,OACAC,IAAAa,EAAAtB,YACAwB,QAAAF,EAAAzB,mBACAjB,KAAAuC,EAEAT,GAAAxB,MAAAqC,EAAAD,EAAAG,cACA,QAAAF,EAAAf,SACAe,EAAA3C,KAAA,MAEA0C,EAAAJ,kBAAA,EACA,IAAAQ,EACAJ,GAAAvB,QAAAuB,EAAAvB,SAAA,EACAuB,EAAAvB,QAAA,IACA2B,EAAAC,WAAA,WACA,IAAAL,EAAAxB,aACAsB,EAAAb,MAAA,aACAe,EAAAJ,kBAAA,GACAI,EAAAf,MAAA,eAEyBe,EAAAvB,UAEzBwB,EAAAxB,QAAAuB,EAAAvB,QACAJ,EAAA4B,EAAA,SAAAK,GAEA,OAAAN,EAAAxB,WAAA,CAKA,GAJA+B,aAAAH,GAEAJ,EAAAQ,OAAAF,EAAAG,WAAA,EAEA,IAAAT,EAAAQ,OACAR,EAAAU,WAAAJ,EAAAK,aACAX,EAAAf,MAAA,WAAmD2B,IAAAN,EAAAO,oBAC1B,CACzB,GAAAX,KACA,QAAAY,KAAAR,GAAAJ,QAAA,CAEA,GAAAnF,GAAAuF,EAAAJ,QAAAY,GACAhD,EAAAgD,EAAApE,aAEA,sBAAA3B,EAAA,YAAAkB,EAAAlB,IACAmF,EAAApC,GAAA/C,GAEAmF,EAAApC,GAAAoC,EAAApC,OACAoC,EAAApC,GAAAJ,KAAA3C,IAGA,GAAAgG,GAAAb,EAAA,aACAZ,IAAAyB,GACAA,EAAAC,QAAA,SAAAC,GACAzB,SAAAO,OAAAkB,EAAA/D,QAAA,iBAAkE,MAGlE8C,EAAArB,gBAAAuB,EAEAF,EAAAU,WAAAJ,EAAAO,eAAA,GACAb,EAAAM,SAAAN,EAAAW,aAAAL,EAAAK,aACAX,EAAAkB,UAAAZ,EACAN,EAAAJ,kBAAA,GACAI,EAAAf,MAAA,UAEAe,EAAAf,MAAA,oBAGAkC,SAAAC,MAAA,2BAIAtD,IAAA,mBACA/C,MAAA,SAAA+C,EAAA/C,GACAT,KAAAiE,eAAAa,EAAApC,KAAAc,IAAA/C,KAGA+C,IAAA,oBACA/C,MAAA,SAAA+C,GACA,OAAAxD,KAAAqE,gBAAAb,EAAApB,gBAAA,IAAAF,cAGAsB,IAAA,wBACA/C,MAAA,WACA,GAAAkC,GAAA,EACA,QAAAa,KAAAxD,MAAAqE,gBACA1B,GAAAa,EAAA,IAAAxD,KAAA+G,kBAAAvD,GAAA,MAEA,OAAAb,MAGAa,IAAA,QACA/C,MAAA,SAAA6F,GACAtG,KAAAsF,kBAAA,GACAtF,KAAA2E,MAAA,WAAuC2B,QACvCtG,KAAA2E,MAAA,kBAGAnB,IAAA,aACA/C,MAAA,SAAAuG,GACAjD,EAAAiD,MAIAhD,KA1KA,GAAArC,GAAA,kBAAAC,SAAA,gBAAAA,QAAAC,SAAA,SAAAC,GAAoG,aAAAA,IAAqB,SAAAA,GAAmB,MAAAA,IAAA,kBAAAF,SAAAE,EAAAC,cAAAH,QAAAE,IAAAF,OAAAL,UAAA,eAAAO,IAE5IwC,EAAA,WAAgC,QAAA2C,GAAAC,EAAAC,GAA2C,OAAApH,GAAA,EAAgBA,EAAAoH,EAAAC,OAAkBrH,IAAA,CAAO,GAAAsH,GAAAF,EAAApH,EAA2BsH,GAAApG,WAAAoG,EAAApG,aAAA,EAAwDoG,EAAArG,cAAA,EAAgC,SAAAqG,OAAAC,UAAA,GAAuDxG,OAAAC,eAAAmG,EAAAG,EAAA7D,IAAA6D,IAA+D,gBAAAzD,EAAA2D,EAAAC,GAA2L,MAAlID,IAAAN,EAAArD,EAAArC,UAAAgG,GAAqEC,GAAAP,EAAArD,EAAA4D,GAA6D5D,MAQxhBkB,EAAA5E,EAAA,GACA8E,EAAA,mBAAAE,WAdA,SAAAuC,EAAAC,GAAoBA,KAsLpB,aACA/H,EAAAD,QAAAoE","file":"engine-wrapper.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nmodule.exports = {\n    type: function type(ob) {\n        return Object.prototype.toString.call(ob).slice(8, -1).toLowerCase();\n    },\n    isObject: function isObject(ob, real) {\n        if (real) {\n            return this.type(ob) === \"object\";\n        } else {\n            return ob && (typeof ob === 'undefined' ? 'undefined' : _typeof(ob)) === 'object';\n        }\n    },\n    isFormData: function isFormData(val) {\n        return typeof FormData !== 'undefined' && val instanceof FormData;\n    },\n    trim: function trim(str) {\n        return str.replace(/(^\\s*)|(\\s*$)/g, '');\n    },\n    encode: function encode(val) {\n        return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n    },\n    formatParams: function formatParams(data) {\n        var arr = [];\n        for (var name in data) {\n            var value = data[name];\n            if (this.isObject(value)) {\n                value = JSON.stringify(value);\n            }\n            arr.push(this.encode(name) + \"=\" + this.encode(value));\n        }\n        return arr.join(\"&\");\n    },\n\n    //不覆盖已存在的属性\n    merge: function merge(a, b) {\n        for (var key in b) {\n            //ES5 should use hasOwnProperty()\n            if (a[key] === undefined) {\n                a[key] = b[key];\n            } else if (this.isObject(b[key], 1) && this.isObject(a[key], 1)) {\n                this.merge(a[key], b[key]);\n            }\n        }\n        return a;\n    }\n};\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction KEEP(_,cb){cb();}\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n * author: wendu\n * email: 824783146@qq.com\n **/\nvar util = __webpack_require__(0);\nvar isBrowser = typeof document !== \"undefined\";\n\nfunction EngineWrapper(adapter) {\n    var AjaxEngine = function () {\n        function AjaxEngine() {\n            _classCallCheck(this, AjaxEngine);\n\n            this.requestHeaders = {};\n            this.readyState = 0;\n            this.timeout = 0; //无超时\n            this.responseURL = \"\";\n            this.responseHeaders = {};\n        }\n\n        _createClass(AjaxEngine, [{\n            key: \"_call\",\n            value: function _call(name) {\n                this[name] && this[name].apply(this, [].splice.call(arguments, 1));\n            }\n        }, {\n            key: \"_changeReadyState\",\n            value: function _changeReadyState(state) {\n                this.readyState = state;\n                this._call(\"onreadystatechange\");\n            }\n        }, {\n            key: \"open\",\n            value: function open(method, url) {\n                this.method = method;\n                if (!url) {\n                    url = location.href;\n                } else {\n                    url = util.trim(url);\n                    if (url.indexOf(\"http\") !== 0) {\n                        //是浏览器环境\n                        if (isBrowser) {\n                            var t = document.createElement(\"a\");\n                            t.href = url;\n                            url = t.href;\n                        }\n                    }\n                }\n                this.responseURL = url;\n                this._changeReadyState(1);\n            }\n        }, {\n            key: \"send\",\n            value: function send(arg) {\n                var _this = this;\n\n                arg = arg || null;\n                if (isBrowser) {\n                    var cookie = document.cookie;\n                    if (cookie) {\n                        this.requestHeaders.cookie = cookie;\n                    }\n                }\n                var self = this;\n                if (adapter) {\n                    var request = {\n                        method: self.method,\n                        url: self.responseURL,\n                        headers: self.requestHeaders || {},\n                        data: arg\n                    };\n                    util.merge(request, self._options || {});\n                    if (request.method === \"GET\") {\n                        request.data = null;\n                    }\n                    self._changeReadyState(3);\n                    var timer;\n                    self.timeout = self.timeout || 0;\n                    if (self.timeout > 0) {\n                        timer = setTimeout(function () {\n                            if (self.readyState === 3) {\n                                _this._call(\"onloadend\");\n                                self._changeReadyState(0);\n                                self._call(\"ontimeout\");\n                            }\n                        }, self.timeout);\n                    }\n                    request.timeout = self.timeout;\n                    adapter(request, function (response) {\n                        //超时了\n                        if (self.readyState !== 3) return;\n                        clearTimeout(timer);\n\n                        self.status = response.statusCode - 0;\n                        //网络错误,端上返回0时代表错误\n                        if (self.status === 0) {\n                            self.statusText = response.responseText;\n                            self._call(\"onerror\", { msg: response.statusMessage });\n                        } else {\n                            var headers = {};\n                            for (var field in response.headers) {\n\n                                var value = response.headers[field];\n                                var key = field.toLowerCase();\n                                //是数组直接赋值\n                                if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\") {\n                                    headers[key] = value;\n                                } else {\n                                    headers[key] = headers[key] || [];\n                                    headers[key].push(value);\n                                }\n                            }\n                            var cookies = headers[\"set-cookie\"];\n                            if (isBrowser && cookies) {\n                                cookies.forEach(function (e) {\n                                    document.cookie = e.replace(/;\\s*httpOnly/ig, \"\");\n                                });\n                            }\n                            self.responseHeaders = headers;\n                            //错误码信息,暂且为状态码\n                            self.statusText = response.statusMessage || \"\";\n                            self.response = self.responseText = response.responseText;\n                            self._response = response;\n                            self._changeReadyState(4);\n                            self._call(\"onload\");\n                        }\n                        self._call(\"onloadend\");\n                    });\n                } else {\n                    console.error(\"Ajax require adapter\");\n                }\n            }\n        }, {\n            key: \"setRequestHeader\",\n            value: function setRequestHeader(key, value) {\n                this.requestHeaders[util.trim(key)] = value;\n            }\n        }, {\n            key: \"getResponseHeader\",\n            value: function getResponseHeader(key) {\n                return (this.responseHeaders[key.toLowerCase()] || \"\").toString();\n            }\n        }, {\n            key: \"getAllResponseHeaders\",\n            value: function getAllResponseHeaders() {\n                var str = \"\";\n                for (var key in this.responseHeaders) {\n                    str += key + \":\" + this.getResponseHeader(key) + \"\\r\\n\";\n                }\n                return str;\n            }\n        }, {\n            key: \"abort\",\n            value: function abort(msg) {\n                this._changeReadyState(0);\n                this._call(\"onerror\", { msg: msg });\n                this._call(\"onloadend\");\n            }\n        }], [{\n            key: \"setAdapter\",\n            value: function setAdapter(requestAdapter) {\n                adapter = requestAdapter;\n            }\n        }]);\n\n        return AjaxEngine;\n    }();\n\n    return AjaxEngine;\n}\n\n//build环境定义全局变量\n;\n//非build环境则导出\nKEEP(\"!build\", function () {\n    module.exports = EngineWrapper;\n});\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// engine-wrapper.umd.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ecf937cafc7f37a9c33f","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nmodule.exports = {\n    type: function type(ob) {\n        return Object.prototype.toString.call(ob).slice(8, -1).toLowerCase();\n    },\n    isObject: function isObject(ob, real) {\n        if (real) {\n            return this.type(ob) === \"object\";\n        } else {\n            return ob && (typeof ob === 'undefined' ? 'undefined' : _typeof(ob)) === 'object';\n        }\n    },\n    isFormData: function isFormData(val) {\n        return typeof FormData !== 'undefined' && val instanceof FormData;\n    },\n    trim: function trim(str) {\n        return str.replace(/(^\\s*)|(\\s*$)/g, '');\n    },\n    encode: function encode(val) {\n        return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n    },\n    formatParams: function formatParams(data) {\n        var arr = [];\n        for (var name in data) {\n            var value = data[name];\n            if (this.isObject(value)) {\n                value = JSON.stringify(value);\n            }\n            arr.push(this.encode(name) + \"=\" + this.encode(value));\n        }\n        return arr.join(\"&\");\n    },\n\n    //不覆盖已存在的属性\n    merge: function merge(a, b) {\n        for (var key in b) {\n            //ES5 should use hasOwnProperty()\n            if (a[key] === undefined) {\n                a[key] = b[key];\n            } else if (this.isObject(b[key], 1) && this.isObject(a[key], 1)) {\n                this.merge(a[key], b[key]);\n            }\n        }\n        return a;\n    }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils.js\n// module id = 0\n// module chunks = 0 1","function KEEP(_,cb){cb();}\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n * author: wendu\n * email: 824783146@qq.com\n **/\nvar util = require('./utils');\nvar isBrowser = typeof document !== \"undefined\";\n\nfunction EngineWrapper(adapter) {\n    var AjaxEngine = function () {\n        function AjaxEngine() {\n            _classCallCheck(this, AjaxEngine);\n\n            this.requestHeaders = {};\n            this.readyState = 0;\n            this.timeout = 0; //无超时\n            this.responseURL = \"\";\n            this.responseHeaders = {};\n        }\n\n        _createClass(AjaxEngine, [{\n            key: \"_call\",\n            value: function _call(name) {\n                this[name] && this[name].apply(this, [].splice.call(arguments, 1));\n            }\n        }, {\n            key: \"_changeReadyState\",\n            value: function _changeReadyState(state) {\n                this.readyState = state;\n                this._call(\"onreadystatechange\");\n            }\n        }, {\n            key: \"open\",\n            value: function open(method, url) {\n                this.method = method;\n                if (!url) {\n                    url = location.href;\n                } else {\n                    url = util.trim(url);\n                    if (url.indexOf(\"http\") !== 0) {\n                        //是浏览器环境\n                        if (isBrowser) {\n                            var t = document.createElement(\"a\");\n                            t.href = url;\n                            url = t.href;\n                        }\n                    }\n                }\n                this.responseURL = url;\n                this._changeReadyState(1);\n            }\n        }, {\n            key: \"send\",\n            value: function send(arg) {\n                var _this = this;\n\n                arg = arg || null;\n                if (isBrowser) {\n                    var cookie = document.cookie;\n                    if (cookie) {\n                        this.requestHeaders.cookie = cookie;\n                    }\n                }\n                var self = this;\n                if (adapter) {\n                    var request = {\n                        method: self.method,\n                        url: self.responseURL,\n                        headers: self.requestHeaders || {},\n                        data: arg\n                    };\n                    util.merge(request, self._options || {});\n                    if (request.method === \"GET\") {\n                        request.data = null;\n                    }\n                    self._changeReadyState(3);\n                    var timer;\n                    self.timeout = self.timeout || 0;\n                    if (self.timeout > 0) {\n                        timer = setTimeout(function () {\n                            if (self.readyState === 3) {\n                                _this._call(\"onloadend\");\n                                self._changeReadyState(0);\n                                self._call(\"ontimeout\");\n                            }\n                        }, self.timeout);\n                    }\n                    request.timeout = self.timeout;\n                    adapter(request, function (response) {\n                        //超时了\n                        if (self.readyState !== 3) return;\n                        clearTimeout(timer);\n\n                        self.status = response.statusCode - 0;\n                        //网络错误,端上返回0时代表错误\n                        if (self.status === 0) {\n                            self.statusText = response.responseText;\n                            self._call(\"onerror\", { msg: response.statusMessage });\n                        } else {\n                            var headers = {};\n                            for (var field in response.headers) {\n\n                                var value = response.headers[field];\n                                var key = field.toLowerCase();\n                                //是数组直接赋值\n                                if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\") {\n                                    headers[key] = value;\n                                } else {\n                                    headers[key] = headers[key] || [];\n                                    headers[key].push(value);\n                                }\n                            }\n                            var cookies = headers[\"set-cookie\"];\n                            if (isBrowser && cookies) {\n                                cookies.forEach(function (e) {\n                                    document.cookie = e.replace(/;\\s*httpOnly/ig, \"\");\n                                });\n                            }\n                            self.responseHeaders = headers;\n                            //错误码信息,暂且为状态码\n                            self.statusText = response.statusMessage || \"\";\n                            self.response = self.responseText = response.responseText;\n                            self._response = response;\n                            self._changeReadyState(4);\n                            self._call(\"onload\");\n                        }\n                        self._call(\"onloadend\");\n                    });\n                } else {\n                    console.error(\"Ajax require adapter\");\n                }\n            }\n        }, {\n            key: \"setRequestHeader\",\n            value: function setRequestHeader(key, value) {\n                this.requestHeaders[util.trim(key)] = value;\n            }\n        }, {\n            key: \"getResponseHeader\",\n            value: function getResponseHeader(key) {\n                return (this.responseHeaders[key.toLowerCase()] || \"\").toString();\n            }\n        }, {\n            key: \"getAllResponseHeaders\",\n            value: function getAllResponseHeaders() {\n                var str = \"\";\n                for (var key in this.responseHeaders) {\n                    str += key + \":\" + this.getResponseHeader(key) + \"\\r\\n\";\n                }\n                return str;\n            }\n        }, {\n            key: \"abort\",\n            value: function abort(msg) {\n                this._changeReadyState(0);\n                this._call(\"onerror\", { msg: msg });\n                this._call(\"onloadend\");\n            }\n        }], [{\n            key: \"setAdapter\",\n            value: function setAdapter(requestAdapter) {\n                adapter = requestAdapter;\n            }\n        }]);\n\n        return AjaxEngine;\n    }();\n\n    return AjaxEngine;\n}\n\n//build环境定义全局变量\n;\n//非build环境则导出\nKEEP(\"!build\", function () {\n    module.exports = EngineWrapper;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/engine-wrapper.js\n// module id = 4\n// module chunks = 1"],"sourceRoot":""}