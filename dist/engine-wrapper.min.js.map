{"version":3,"sources":["webpack:///engine-wrapper.min.js","webpack:///webpack/bootstrap 18ef6f6e70ce9c71adf3?13f8","webpack:///./src/utils.js?c651","webpack:///./src/engine-wrapper.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_typeof","Symbol","iterator","obj","constructor","type","ob","toString","slice","toLowerCase","isObject","real","this","isFormData","val","FormData","trim","str","replace","encode","encodeURIComponent","formatParams","data","arr","JSON","stringify","push","join","merge","a","b","key","undefined","_classCallCheck","instance","Constructor","TypeError","EngineWrapper","adapter","AjaxEngine","requestHeaders","readyState","timeout","responseURL","responseHeaders","_createClass","apply","splice","arguments","state","_call","method","url","util","indexOf","isBrowser","t","document","createElement","href","location","_changeReadyState","arg","_this","cookie","self","request","headers","_options","timer","setTimeout","response","clearTimeout","status","statusCode","statusText","responseText","msg","statusMessage","field","cookies","forEach","e","_response","console","error","getResponseHeader","requestAdapter","defineProperties","target","props","length","descriptor","writable","protoProps","staticProps","_","cb","window"],"mappings":"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","file":"engine-wrapper.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nmodule.exports = {\n    type: function type(ob) {\n        return Object.prototype.toString.call(ob).slice(8, -1).toLowerCase();\n    },\n    isObject: function isObject(ob, real) {\n        if (real) {\n            return this.type(ob) === \"object\";\n        } else {\n            return ob && (typeof ob === 'undefined' ? 'undefined' : _typeof(ob)) === 'object';\n        }\n    },\n    isFormData: function isFormData(val) {\n        return typeof FormData !== 'undefined' && val instanceof FormData;\n    },\n    trim: function trim(str) {\n        return str.replace(/(^\\s*)|(\\s*$)/g, '');\n    },\n    encode: function encode(val) {\n        return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n    },\n    formatParams: function formatParams(data) {\n        var arr = [];\n        for (var name in data) {\n            var value = data[name];\n            if (this.isObject(value)) {\n                value = JSON.stringify(value);\n            }\n            arr.push(this.encode(name) + \"=\" + this.encode(value));\n        }\n        return arr.join(\"&\");\n    },\n\n    //不覆盖已存在的属性\n    merge: function merge(a, b) {\n        for (var key in b) {\n            //ES5 should use hasOwnProperty()\n            if (a[key] === undefined) {\n                a[key] = b[key];\n            } else if (this.isObject(b[key], 1) && this.isObject(a[key], 1)) {\n                this.merge(a[key], b[key]);\n            }\n        }\n        return a;\n    }\n};\n\n/***/ }),\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction KEEP(_,cb){cb();}\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n * author: wendu\n * email: 824783146@qq.com\n **/\nvar util = __webpack_require__(0);\nvar isBrowser = typeof document !== \"undefined\";\n\nfunction EngineWrapper(adapter) {\n    var AjaxEngine = function () {\n        function AjaxEngine() {\n            _classCallCheck(this, AjaxEngine);\n\n            this.requestHeaders = {};\n            this.readyState = 0;\n            this.timeout = 0; //无超时\n            this.responseURL = \"\";\n            this.responseHeaders = {};\n        }\n\n        _createClass(AjaxEngine, [{\n            key: \"_call\",\n            value: function _call(name) {\n                this[name] && this[name].apply(this, [].splice.call(arguments, 1));\n            }\n        }, {\n            key: \"_changeReadyState\",\n            value: function _changeReadyState(state) {\n                this.readyState = state;\n                this._call(\"onreadystatechange\");\n            }\n        }, {\n            key: \"open\",\n            value: function open(method, url) {\n                this.method = method;\n                if (!url) {\n                    url = location.href;\n                } else {\n                    url = util.trim(url);\n                    if (url.indexOf(\"http\") !== 0) {\n                        //是浏览器环境\n                        if (isBrowser) {\n                            var t = document.createElement(\"a\");\n                            t.href = url;\n                            url = t.href;\n                        }\n                    }\n                }\n                this.responseURL = url;\n                this._changeReadyState(1);\n            }\n        }, {\n            key: \"send\",\n            value: function send(arg) {\n                var _this = this;\n\n                arg = arg || null;\n                if (isBrowser) {\n                    var cookie = document.cookie;\n                    if (cookie) {\n                        this.requestHeaders.cookie = cookie;\n                    }\n                }\n                var self = this;\n                if (adapter) {\n                    var request = {\n                        method: self.method,\n                        url: self.responseURL,\n                        headers: self.requestHeaders || {},\n                        data: arg\n                    };\n                    util.merge(request, self._options || {});\n                    if (request.method === \"GET\") {\n                        request.data = null;\n                    }\n                    self._changeReadyState(3);\n                    var timer;\n                    self.timeout = self.timeout || 0;\n                    if (self.timeout > 0) {\n                        timer = setTimeout(function () {\n                            if (self.readyState === 3) {\n                                _this._call(\"onloadend\");\n                                self._changeReadyState(0);\n                                self._call(\"ontimeout\");\n                            }\n                        }, self.timeout);\n                    }\n                    request.timeout = self.timeout;\n                    adapter(request, function (response) {\n                        //超时了\n                        if (self.readyState !== 3) return;\n                        clearTimeout(timer);\n\n                        self.status = response.statusCode - 0;\n                        //网络错误,端上返回0时代表错误\n                        if (self.status === 0) {\n                            self.statusText = response.responseText;\n                            self._call(\"onerror\", { msg: response.statusMessage });\n                        } else {\n                            var headers = {};\n                            for (var field in response.headers) {\n\n                                var value = response.headers[field];\n                                var key = field.toLowerCase();\n                                //是数组直接赋值\n                                if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\") {\n                                    headers[key] = value;\n                                } else {\n                                    headers[key] = headers[key] || [];\n                                    headers[key].push(value);\n                                }\n                            }\n                            var cookies = headers[\"set-cookie\"];\n                            if (isBrowser && cookies) {\n                                cookies.forEach(function (e) {\n                                    document.cookie = e.replace(/;\\s*httpOnly/ig, \"\");\n                                });\n                            }\n                            self.responseHeaders = headers;\n                            //错误码信息,暂且为状态码\n                            self.statusText = response.statusMessage || \"\";\n                            self.response = self.responseText = response.responseText;\n                            self._response = response;\n                            self._changeReadyState(4);\n                            self._call(\"onload\");\n                        }\n                        self._call(\"onloadend\");\n                    });\n                } else {\n                    console.error(\"Ajax require adapter\");\n                }\n            }\n        }, {\n            key: \"setRequestHeader\",\n            value: function setRequestHeader(key, value) {\n                this.requestHeaders[util.trim(key)] = value;\n            }\n        }, {\n            key: \"getResponseHeader\",\n            value: function getResponseHeader(key) {\n                return (this.responseHeaders[key.toLowerCase()] || \"\").toString();\n            }\n        }, {\n            key: \"getAllResponseHeaders\",\n            value: function getAllResponseHeaders() {\n                var str = \"\";\n                for (var key in this.responseHeaders) {\n                    str += key + \":\" + this.getResponseHeader(key) + \"\\r\\n\";\n                }\n                return str;\n            }\n        }, {\n            key: \"abort\",\n            value: function abort(msg) {\n                this._changeReadyState(0);\n                this._call(\"onerror\", { msg: msg });\n                this._call(\"onloadend\");\n            }\n        }], [{\n            key: \"setAdapter\",\n            value: function setAdapter(requestAdapter) {\n                adapter = requestAdapter;\n            }\n        }]);\n\n        return AjaxEngine;\n    }();\n\n    return AjaxEngine;\n}\n\n//build环境定义全局变量\nKEEP(\"build\", function () {\n    window.EngineWrapper = EngineWrapper;\n});\n//非build环境则导出\n;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// engine-wrapper.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 18ef6f6e70ce9c71adf3","'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nmodule.exports = {\n    type: function type(ob) {\n        return Object.prototype.toString.call(ob).slice(8, -1).toLowerCase();\n    },\n    isObject: function isObject(ob, real) {\n        if (real) {\n            return this.type(ob) === \"object\";\n        } else {\n            return ob && (typeof ob === 'undefined' ? 'undefined' : _typeof(ob)) === 'object';\n        }\n    },\n    isFormData: function isFormData(val) {\n        return typeof FormData !== 'undefined' && val instanceof FormData;\n    },\n    trim: function trim(str) {\n        return str.replace(/(^\\s*)|(\\s*$)/g, '');\n    },\n    encode: function encode(val) {\n        return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n    },\n    formatParams: function formatParams(data) {\n        var arr = [];\n        for (var name in data) {\n            var value = data[name];\n            if (this.isObject(value)) {\n                value = JSON.stringify(value);\n            }\n            arr.push(this.encode(name) + \"=\" + this.encode(value));\n        }\n        return arr.join(\"&\");\n    },\n\n    //不覆盖已存在的属性\n    merge: function merge(a, b) {\n        for (var key in b) {\n            //ES5 should use hasOwnProperty()\n            if (a[key] === undefined) {\n                a[key] = b[key];\n            } else if (this.isObject(b[key], 1) && this.isObject(a[key], 1)) {\n                this.merge(a[key], b[key]);\n            }\n        }\n        return a;\n    }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils.js\n// module id = 0\n// module chunks = 0 1","function KEEP(_,cb){cb();}\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n * author: wendu\n * email: 824783146@qq.com\n **/\nvar util = require('./utils');\nvar isBrowser = typeof document !== \"undefined\";\n\nfunction EngineWrapper(adapter) {\n    var AjaxEngine = function () {\n        function AjaxEngine() {\n            _classCallCheck(this, AjaxEngine);\n\n            this.requestHeaders = {};\n            this.readyState = 0;\n            this.timeout = 0; //无超时\n            this.responseURL = \"\";\n            this.responseHeaders = {};\n        }\n\n        _createClass(AjaxEngine, [{\n            key: \"_call\",\n            value: function _call(name) {\n                this[name] && this[name].apply(this, [].splice.call(arguments, 1));\n            }\n        }, {\n            key: \"_changeReadyState\",\n            value: function _changeReadyState(state) {\n                this.readyState = state;\n                this._call(\"onreadystatechange\");\n            }\n        }, {\n            key: \"open\",\n            value: function open(method, url) {\n                this.method = method;\n                if (!url) {\n                    url = location.href;\n                } else {\n                    url = util.trim(url);\n                    if (url.indexOf(\"http\") !== 0) {\n                        //是浏览器环境\n                        if (isBrowser) {\n                            var t = document.createElement(\"a\");\n                            t.href = url;\n                            url = t.href;\n                        }\n                    }\n                }\n                this.responseURL = url;\n                this._changeReadyState(1);\n            }\n        }, {\n            key: \"send\",\n            value: function send(arg) {\n                var _this = this;\n\n                arg = arg || null;\n                if (isBrowser) {\n                    var cookie = document.cookie;\n                    if (cookie) {\n                        this.requestHeaders.cookie = cookie;\n                    }\n                }\n                var self = this;\n                if (adapter) {\n                    var request = {\n                        method: self.method,\n                        url: self.responseURL,\n                        headers: self.requestHeaders || {},\n                        data: arg\n                    };\n                    util.merge(request, self._options || {});\n                    if (request.method === \"GET\") {\n                        request.data = null;\n                    }\n                    self._changeReadyState(3);\n                    var timer;\n                    self.timeout = self.timeout || 0;\n                    if (self.timeout > 0) {\n                        timer = setTimeout(function () {\n                            if (self.readyState === 3) {\n                                _this._call(\"onloadend\");\n                                self._changeReadyState(0);\n                                self._call(\"ontimeout\");\n                            }\n                        }, self.timeout);\n                    }\n                    request.timeout = self.timeout;\n                    adapter(request, function (response) {\n                        //超时了\n                        if (self.readyState !== 3) return;\n                        clearTimeout(timer);\n\n                        self.status = response.statusCode - 0;\n                        //网络错误,端上返回0时代表错误\n                        if (self.status === 0) {\n                            self.statusText = response.responseText;\n                            self._call(\"onerror\", { msg: response.statusMessage });\n                        } else {\n                            var headers = {};\n                            for (var field in response.headers) {\n\n                                var value = response.headers[field];\n                                var key = field.toLowerCase();\n                                //是数组直接赋值\n                                if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\") {\n                                    headers[key] = value;\n                                } else {\n                                    headers[key] = headers[key] || [];\n                                    headers[key].push(value);\n                                }\n                            }\n                            var cookies = headers[\"set-cookie\"];\n                            if (isBrowser && cookies) {\n                                cookies.forEach(function (e) {\n                                    document.cookie = e.replace(/;\\s*httpOnly/ig, \"\");\n                                });\n                            }\n                            self.responseHeaders = headers;\n                            //错误码信息,暂且为状态码\n                            self.statusText = response.statusMessage || \"\";\n                            self.response = self.responseText = response.responseText;\n                            self._response = response;\n                            self._changeReadyState(4);\n                            self._call(\"onload\");\n                        }\n                        self._call(\"onloadend\");\n                    });\n                } else {\n                    console.error(\"Ajax require adapter\");\n                }\n            }\n        }, {\n            key: \"setRequestHeader\",\n            value: function setRequestHeader(key, value) {\n                this.requestHeaders[util.trim(key)] = value;\n            }\n        }, {\n            key: \"getResponseHeader\",\n            value: function getResponseHeader(key) {\n                return (this.responseHeaders[key.toLowerCase()] || \"\").toString();\n            }\n        }, {\n            key: \"getAllResponseHeaders\",\n            value: function getAllResponseHeaders() {\n                var str = \"\";\n                for (var key in this.responseHeaders) {\n                    str += key + \":\" + this.getResponseHeader(key) + \"\\r\\n\";\n                }\n                return str;\n            }\n        }, {\n            key: \"abort\",\n            value: function abort(msg) {\n                this._changeReadyState(0);\n                this._call(\"onerror\", { msg: msg });\n                this._call(\"onloadend\");\n            }\n        }], [{\n            key: \"setAdapter\",\n            value: function setAdapter(requestAdapter) {\n                adapter = requestAdapter;\n            }\n        }]);\n\n        return AjaxEngine;\n    }();\n\n    return AjaxEngine;\n}\n\n//build环境定义全局变量\nKEEP(\"build\", function () {\n    window.EngineWrapper = EngineWrapper;\n});\n//非build环境则导出\n;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/engine-wrapper.js\n// module id = 4\n// module chunks = 1"],"sourceRoot":""}